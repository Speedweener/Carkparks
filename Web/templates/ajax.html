<!-- <!doctype html> -->
<html>
  <head>
    <title>FLASK CSV File Upload</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <!-- <script src="{{ url_for('static', filename='js/papaparse.min.js') }}" type="text/javascript"></script> -->


  </head>
  <body>
    <h1>Upload your CSV file</h1>
    <form method="POST" action="" enctype="multipart/form-data">
      <p><input type="file" name="file"></p>
      <p><input type="submit" value="Submit"></p>
    </form>







        <!-- <input type="file" id="upload-csv"  accept=".csv" required />
        <button id="btn-upload"> Read </button>

        <table id = "tbl"></table> -->

    <!-- <script>
        let btn_upload = document.getElementById('btn-upload').addEventListener('click', () =>{
            Papa.parse(document.getElementById('upload-csv').files[0], {
                download: true,
                header: false,
                complete: function(results) {
                    let i = 0;
                    results.data.map((data, index)=> {
                        let table = document.getElementById('tbl');
                        generateTableHead(table, data);

                        if (i==0) {
                            let table = document.getElementById('tbl');
                            generateTableHead(table, data);
                        }
                        else{
                            let table = document.getElementById('tbl');
                            generateTableRow(table, data);

                        }
                    });
                }
            });
        });


    function generateTableHead(table, data){
        let thread = table.createTHead();
        let row = thread.insertRow();
        for(let key of data) {
            let th = document.createElement('th');
            let text = document.createTextNode(key);
            th.appendChild(text);
            row.appendChild(th);
        }
    }

    function generateTableRows(table, data) {
        let newRow = table.insertRow(-1);
        data.map((row, index)=> {
            let newCell = newRow.insertCell();
            let newText = document.createTextNode(row);
            newCell.appendChild(newText);

        })
    }

	 

    </script> -->
  </body>
</html>
<!-- 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>


<script>
    // GET is the default method, so we don't need to set it
    fetch('/hello')
        .then(function (response) {
            return response.text();
        })
        .then(function (text) {

            // Print the greeting as text
            console.log('GET response text:');
            console.log(text);
        });

    // Send the same request
    fetch('/hello')
        .then(function (response) {

            // But parse it as JSON this time
            return response.json();
        })
        .then(function (json) {

            // Do anything with it!
            console.log('GET response as JSON:');
            console.log(json);
        })

    // POST
    fetch('/hello', {

        // Declare what type of data we're sending
        headers: {
            'Content-Type': 'application/json'
        },

        // Specify the method
        method: 'POST',

        // A JSON payload
        body: JSON.stringify({"greeting": "Hello from the browser!"})
    })
        .then(function (response) {
            return response.text();
        })
        .then(function (text) {

            console.log('POST response: ');

            // Should be 'OK' if everything was successful
            console.log(text);
        });
</script> -->